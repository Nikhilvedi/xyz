# Proxmox VE Network Configuration
# Location on Proxmox: /etc/network/interfaces
#
# This is a template. Modify according to your network setup.
# After editing, apply with: ifreload -a

# Loopback interface
auto lo
iface lo inet loopback

# Physical interface - typically eno1, enp0s3, or eth0
# This is your main network interface connected to your router/switch
auto eno1
iface eno1 inet manual

# Management Bridge (vmbr0)
# This bridge provides network access for VMs and the Proxmox web interface
# Modify the IP address, gateway, and interface name to match your network
auto vmbr0
iface vmbr0 inet static
    address 192.168.1.10/24
    gateway 192.168.1.1
    bridge-ports eno1
    bridge-stp off
    bridge-fd 0
    # Recommended: Add DNS servers
    # dns-nameservers 8.8.8.8 8.8.4.4

# Example: Additional Bridge for isolated VM network
# Useful for separating different types of VMs (e.g., lab, production)
# auto vmbr1
# iface vmbr1 inet static
#     address 10.0.0.1/24
#     bridge-ports none
#     bridge-stp off
#     bridge-fd 0
#     # Enable NAT for this network (run in post-up)
#     post-up echo 1 > /proc/sys/net/ipv4/ip_forward
#     post-up iptables -t nat -A POSTROUTING -s 10.0.0.0/24 -o vmbr0 -j MASQUERADE
#     post-down iptables -t nat -D POSTROUTING -s 10.0.0.0/24 -o vmbr0 -j MASQUERADE

# Example: VLAN-aware bridge
# Allows multiple VLANs on a single bridge
# auto vmbr0
# iface vmbr0 inet static
#     address 192.168.1.10/24
#     gateway 192.168.1.1
#     bridge-ports eno1
#     bridge-stp off
#     bridge-fd 0
#     bridge-vlan-aware yes
#     bridge-vids 2-4094

# Example: Bonded interfaces for redundancy
# Requires multiple network interfaces
# auto bond0
# iface bond0 inet manual
#     bond-slaves eno1 eno2
#     bond-miimon 100
#     bond-mode balance-alb
#
# auto vmbr0
# iface vmbr0 inet static
#     address 192.168.1.10/24
#     gateway 192.168.1.1
#     bridge-ports bond0
#     bridge-stp off
#     bridge-fd 0
